---
layout: default
title: Benchmarks
sitemap:
  lastmod: 2014-03-11
  priority: 0.9
  changefreq: monthly
---

<h1 id="benchmark" class="page-header">{{ page.title }}</h1>

<p class="lead">
  This page summarizes how much time is required to solve different
  optimization problems. Various solvers are used to compare the
  efficiency of the different available approaches.
</p>


<div class="bs-callout bs-callout-info">
  <h4>Methodology</h4>
  <ol>
    <li>Run the RobOptim test suite for each solver, the
      Hock-Schittkowski Collection problems are included, see
      the <a href="https://github.com/roboptim/roboptim-shared-tests">roboptim-shared-tests</a>
      repository to see the actual implementation. The "b" versions
      correspond to minor variations of a same problem but using the
      RobOptim in a different manner.
    </li>

    <li>Convert the RobOptim log files, i.e. <code>journal.log</code>, to a
      YAML file
      using <a href="https://gist.github.com/thomas-moulard/9757879">bench.sh</a>.</li>
    <li>Tests for which solvers are failing are finally removed from
      the dataset (manually for now).</li>
  </ol>

  <p>The log file timing information are generated
    using <a href="http://www.boost.org/doc/libs/1_55_0/doc/html/date_time/posix_time.html">Boost.DateTime</a>.
  </p>

  <p>The tests provided here are too small to test sparse solvers in
    a robust way. Values for these solvers should be handled with
    great care!</p>

  <p><a href="http://www.ai7.uni-bayreuth.de/test_problem_coll.pdf">The
  document defining all the problems is available here.</a></p>
</div>

<div id="benchmark_schittkowski" style="width: 100%; height: 300em"></div>

<!--Load the AJAX API-->
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript">
  var benchmark = {};
  {% for test in site.data.benchmark %}
  if (!benchmark["{{test.testsuite}}"]) {benchmark["{{test.testsuite}}"] = {};}
  if (!benchmark["{{test.testsuite}}"]["{{test.problem}}"]) {benchmark["{{test.testsuite}}"]["{{test.problem}}"] = {};}
  benchmark["{{test.testsuite}}"]["{{test.problem}}"]["{{test.solver}}"] = "{{test.time}}";
  {% endfor %}

  benchmark["schittkowski"]["problem-15"]["cfsqp"] = null;
  benchmark["schittkowski"]["problem-16"]["cfsqp"] = null;
  benchmark["schittkowski"]["problem-20"]["cfsqp"] = null;
  benchmark["schittkowski"]["problem-25"]["cfsqp"] = null;
  benchmark["schittkowski"]["problem-28"]["cfsqp"] = null;
  benchmark["schittkowski"]["problem-33"]["cfsqp"] = null;
  benchmark["schittkowski"]["problem-40"]["cfsqp"] = null;
  benchmark["schittkowski"]["problem-47"]["cfsqp"] = null;
  benchmark["schittkowski"]["problem-48"]["cfsqp"] = null;
  benchmark["schittkowski"]["problem-49"]["cfsqp"] = null;
  benchmark["schittkowski"]["problem-50"]["cfsqp"] = null;
  benchmark["schittkowski"]["problem-51"]["cfsqp"] = null;
  benchmark["schittkowski"]["problem-52"]["cfsqp"] = null;
  benchmark["schittkowski"]["problem-53"]["cfsqp"] = null;
  benchmark["schittkowski"]["problem-54"]["cfsqp"] = null;
  benchmark["schittkowski"]["problem-55"]["cfsqp"] = null;
  benchmark["schittkowski"]["problem-56"]["cfsqp"] = null;
  benchmark["schittkowski"]["problem-61"]["cfsqp"] = null;
  benchmark["schittkowski"]["problem-63"]["cfsqp"] = null;
  benchmark["schittkowski"]["problem-66"]["cfsqp"] = null;
  benchmark["schittkowski"]["problem-72"]["cfsqp"] = null;
  benchmark["schittkowski"]["problem-76"]["cfsqp"] = null;
  benchmark["schittkowski"]["problem-78"]["cfsqp"] = null;
  benchmark["schittkowski"]["problem-79"]["cfsqp"] = null;
  benchmark["schittkowski"]["problem-80"]["cfsqp"] = null;
  benchmark["schittkowski"]["problem-81"]["cfsqp"] = null;
  benchmark["schittkowski"]["problem-54b"]["cfsqp"] = null;

  benchmark["schittkowski"]["problem-13"]["ipopt"] = null;
  benchmark["schittkowski"]["problem-16"]["ipopt"] = null;
  benchmark["schittkowski"]["problem-20"]["ipopt"] = null;
  benchmark["schittkowski"]["problem-25"]["ipopt"] = null;
  benchmark["schittkowski"]["problem-28"]["ipopt"] = null;
  benchmark["schittkowski"]["problem-44"]["ipopt"] = null;
  benchmark["schittkowski"]["problem-55"]["ipopt"] = null;
  benchmark["schittkowski"]["problem-56"]["ipopt"] = null;

  benchmark["schittkowski"]["problem-13"]["ipopt-sparse"] = null;
  benchmark["schittkowski"]["problem-16"]["ipopt-sparse"] = null;
  benchmark["schittkowski"]["problem-20"]["ipopt-sparse"] = null;
  benchmark["schittkowski"]["problem-25"]["ipopt-sparse"] = null;
  benchmark["schittkowski"]["problem-28"]["ipopt-sparse"] = null;
  benchmark["schittkowski"]["problem-44"]["ipopt-sparse"] = null;
  benchmark["schittkowski"]["problem-55"]["ipopt-sparse"] = null;
  benchmark["schittkowski"]["problem-56"]["ipopt-sparse"] = null;

  benchmark["schittkowski"]["problem-2"]["nag-nlp"] = null;
  benchmark["schittkowski"]["problem-8"]["nag-nlp"] = null;
  benchmark["schittkowski"]["problem-13"]["nag-nlp"] = null;
  benchmark["schittkowski"]["problem-14"]["nag-nlp"] = null;
  benchmark["schittkowski"]["problem-16"]["nag-nlp"] = null;
  benchmark["schittkowski"]["problem-20"]["nag-nlp"] = null;
  benchmark["schittkowski"]["problem-23"]["nag-nlp"] = null;
  benchmark["schittkowski"]["problem-25"]["nag-nlp"] = null;
  benchmark["schittkowski"]["problem-28"]["nag-nlp"] = null;
  benchmark["schittkowski"]["problem-33"]["nag-nlp"] = null;
  benchmark["schittkowski"]["problem-47"]["nag-nlp"] = null;
  benchmark["schittkowski"]["problem-55"]["nag-nlp"] = null;
  benchmark["schittkowski"]["problem-56"]["nag-nlp"] = null;
  benchmark["schittkowski"]["problem-72"]["nag-nlp"] = null;

  benchmark["schittkowski"]["problem-2"]["nag-nlp-sparse"] = null;
  benchmark["schittkowski"]["problem-8"]["nag-nlp-sparse"] = null;
  benchmark["schittkowski"]["problem-13"]["nag-nlp-sparse"] = null;
  benchmark["schittkowski"]["problem-14"]["nag-nlp-sparse"] = null;
  benchmark["schittkowski"]["problem-16"]["nag-nlp-sparse"] = null;
  benchmark["schittkowski"]["problem-20"]["nag-nlp-sparse"] = null;
  benchmark["schittkowski"]["problem-23"]["nag-nlp-sparse"] = null;
  benchmark["schittkowski"]["problem-24"]["nag-nlp-sparse"] = null;
  benchmark["schittkowski"]["problem-25"]["nag-nlp-sparse"] = null;
  benchmark["schittkowski"]["problem-28"]["nag-nlp-sparse"] = null;
  benchmark["schittkowski"]["problem-33"]["nag-nlp-sparse"] = null;
  benchmark["schittkowski"]["problem-44"]["nag-nlp-sparse"] = null;
  benchmark["schittkowski"]["problem-47"]["nag-nlp-sparse"] = null;
  benchmark["schittkowski"]["problem-55"]["nag-nlp-sparse"] = null;
  benchmark["schittkowski"]["problem-56"]["nag-nlp-sparse"] = null;
  benchmark["schittkowski"]["problem-72"]["nag-nlp-sparse"] = null;

  var solverPrettyNames = {
  "cfsqp": "CFSQP",
  "ipopt": "IPOPT",
  "ipopt-sparse": "IPOPT (sparse)",
  "nag-nlp": "NAG",
  "nag-nlp-sparse": "NAG (sparse)",
  };

  google.load("visualization", "1", {packages:["corechart"]});
  google.setOnLoadCallback(drawChart);
  function drawChart() {
  var data = new google.visualization.DataTable();

  data.addColumn('string', 'Solver');
  for (var problem in benchmark["schittkowski"]) {
  for (var solver in benchmark["schittkowski"][problem]) {
  data.addColumn('number',
  solverPrettyNames[solver] ? solverPrettyNames[solver] : solver);
  }
  break;
  }

  for (var problem in benchmark["schittkowski"]) {
  var pbName = problem.replace('problem-', '');
  pbName = ('000000' + pbName);
  pbName = pbName.substr(pbName.length - 3);
  var value = [pbName,];
  for (var solver in benchmark["schittkowski"][problem]) {
  value.push(parseFloat(
  benchmark["schittkowski"][problem][solver] ?
  benchmark["schittkowski"][problem][solver] :
  null));
  }
  value.length = 6;
  data.addRow(value);
  }

  data.sort([{column: 0}]);


  var options = {
  title: 'Hock-Schittkowski Collection Test Suite',
  hAxis: {title: 'Time (seconds)'},
  vAxis: {title: 'Problem Id'}
  };

  var chart = new google.visualization.BarChart(document.getElementById('benchmark_schittkowski'));
  chart.draw(data, options);
  }
</script>
